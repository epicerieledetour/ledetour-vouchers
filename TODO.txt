# TODO

## Next

- WEBUI: cover all remaining codes
- WEBUI: add scan logic
- WEBUI: add redirected after time expire
- SPIKE: what is the current status on reporting ?
- DOC: brief doc to make users, emissions, vouchers, pdf, cli list scan / undo
- DEPLOY: deploy on vouchers2 + reporting
- WEBUI: style voucher
- TEST: test action code stored in meta
- CLEAN: test cli / webui code only

- CLEAN: 404 should return a invalid request page with timer
- CLEAN: Replace app.utils.sql.get_connection(args.db) by args.conn
- CLEAN: User.id default factory https://docs.pydantic.dev/latest/usage/fields/
- CLEAN: empty user should add event for empty (None) fields
- DOC: Architecture documentation
- WEBUI: Enter voucher to scan by hand
- WEBUI: Color background
- ADMIN: Rate limiting https://sysopstechnix.com/protect-web-servers-from-ddos-attacks-using-fail2ban/
- CICD: Tests on GitHub
- TEST: unused imports
- TEST: ordered imports
- TEST: pylints (or equivalent)
- CICD: run tox checks
- TEST: static analysis (mypy)
- TEST: code coverage
- CLI: emissions export (as csv)
- DOC: Reorder Q questions
- CLEAN: Email gen to file descriptor, for consistency (will pass stdout)
- WEBUI: Voucher Info, expire, Cashed_In by, Cashed_In date in localtime
- CLI: users read shows token
- BACK: systemd: send reports service / timer
- BACK: publish pdf
- CLEAN: All IDs can be public, what matters is a user Bearers table
- CLEAN: Remove the Token table and replace it by a Bearers table, just for user
- CLEAN: HTTP _response data.status should display the bad status
- BACK: send activity to slack, warning errors to ntfy
- CLI: list auth tokens
- CLEAN: remove error_voucher_user_needs_voucher_token
- WEBUI: error_voucher_expired should show expiration date
- BACK: handle database is locked (when inspecting db with sqlitebrowser)
- CLEAN: error_voucher_cannot_undo_not_cashedin should be ok_voucher_info

## Backlog

- WEBUI to quickly scan / undo vouchers, all vouchers in one page, one voucher per line, button
- Log every action to Slack, flag errors to ntfy
